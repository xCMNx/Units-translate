<Window x:Class="Units_translate.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Units_translate"
        xmlns:views="clr-namespace:Units_translate.Views"
        xmlns:UI="clr-namespace:Ui;assembly=Ui"
        mc:Ignorable="d"
        Title="Units translate" Height="600" Width="1000" WindowStartupLocation="CenterScreen" Closing="Window_Closing">
    <Grid>
        <Grid x:Name="settings" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <local:Settings x:Name="settingsView"/>
            <Border Grid.Row="1" BorderThickness="1" BorderBrush="LightGray">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Padding="10,5" Content="OK" Click="Button_Settings_Ok_Click"/>
                    <Button Padding="10,5" Content="Cancel" Click="Button_Settings_Cancel_Click"/>
                </StackPanel>
            </Border>
        </Grid>
        <Grid Grid.Row="1" Name="main">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="360" MinWidth="360"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*" MinWidth="300"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0" IsEnabled="{Binding EditingEnabled}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0" Background="WhiteSmoke">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="30"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Column="1" Height="20" Orientation="Horizontal" Grid.Row="0" Visibility="Collapsed">
                        <Button Content="..." Width="30" Padding="10,0" Click="Button_Click_1"/>
                        <Button Padding="2" Width="30" Click="Button_Click_3" >
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 52.2573,19.0027L 38.0053,33.2546L 50.6737,33.2546L 25.3369,57.008L 35.4716,38.0053L 23.7533,38.0053L 36.4217,19.0027L 52.2573,19.0027 Z "/>
                        </Button>
                    </StackPanel>
                    <TextBox Name="lastPath" Grid.Column="0" Text="F:\ASSO\4.1.0.report-gtm\Kernel" KeyUp="lastPath_KeyUp" Grid.Row="0" Visibility="Collapsed"/>
                    <StackPanel Grid.ColumnSpan="2" Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                        <UI:CheckBox ToolTip="Лог" Background="LightGray" IsChecked="{Binding ConsoleEnabled}" Width="30" Height="30" Padding="4,7" GlyphData="F1 M 17,20L 59,20L 59,56L 17,56L 17,20 Z M 20,26L 20,53L 56,53L 56,26L 20,26 Z M 23.75,31L 28.5,31L 33.25,37.5L 28.5,44L 23.75,44L 28.5,37.5L 23.75,31 Z"/>
                        <UI:CheckBox ToolTip="Показывать ошибки разметки" Background="LightGray" IsChecked="{Binding ShowMappingErrors}" Width="30" Height="30" Padding="4,7" GlyphData="F1 M 18,23L 58,23L 58,53L 18,53L 18,23 Z M 54,31L 22,31L 22,49L 54,49L 54,31 Z M 30.7269,35.9594L 33.9594,32.7269L 38,36.7675L 42.0406,32.7269L 45.2731,35.9594L 41.2325,40L 45.2731,44.0406L 42.0406,47.2731L 38,43.2325L 33.9594,47.2731L 30.7269,44.0406L 34.7675,40L 30.7269,35.9594 Z"/>
                        <UI:CheckBox ToolTip="Разрешить парсерам исправлять файлы в случае ошибок разметки" Background="LightGray" IsChecked="{Binding FixingEnabled}" Width="30" Height="30" Padding="5" GlyphData="F1 M 46.5,19C 47.8807,19 49,20.1193 49,21.5C 49,22.8807 47.8807,24 46.5,24L 45.8641,23.9184L 43.5566,26.8718C 45.1489,28.0176 46.5309,29.6405 47.6023,31.6025C 44.8701,32.4842 41.563,33 38,33C 34.4369,33 31.1299,32.4842 28.3977,31.6025C 29.4333,29.7061 30.7591,28.1265 32.2844,26.9882L 29.9221,23.9646C 29.7849,23.9879 29.6438,24 29.5,24C 28.1193,24 27,22.8808 27,21.5C 27,20.1193 28.1193,19 29.5,19C 30.8807,19 32,20.1193 32,21.5C 32,22.0018 31.8521,22.4691 31.5976,22.8607L 34.0019,25.938C 35.2525,25.3305 36.5982,25 38,25C 39.3339,25 40.617,25.2993 41.8156,25.8516L 44.2947,22.6786C 44.1066,22.3274 44,21.9262 44,21.5C 44,20.1193 45.1193,19 46.5,19 Z M 54.5,40C 55.3284,40 56,40.6716 56,41.5C 56,42.3284 55.3284,43 54.5,43L 49.9511,43C 49.88,44.0847 49.7325,45.1391 49.5162,46.1531L 54.8059,48.6197C 55.5567,48.9698 55.8815,49.8623 55.5314,50.6131C 55.1813,51.3639 54.2889,51.6887 53.5381,51.3386L 48.6665,49.067C 46.8161,53.9883 43.2172,57.4651 39,57.9435L 39,34.9864C 42.541,34.8897 45.7913,34.283 48.4239,33.3201L 48.6187,33.8074L 53.73,31.8454C 54.5034,31.5485 55.371,31.9348 55.6679,32.7082C 55.9648,33.4816 55.5785,34.3492 54.8051,34.6461L 49.482,36.6895C 49.717,37.7515 49.8763,38.859 49.9511,40L 54.5,40 Z M 21.5,40L 26.0489,40C 26.1237,38.859 26.2829,37.7516 26.518,36.6895L 21.1949,34.6461C 20.4215,34.3492 20.0352,33.4816 20.332,32.7082C 20.6289,31.9348 21.4966,31.5485 22.27,31.8454L 27.3812,33.8074L 27.5761,33.3201C 30.2087,34.283 33.4589,34.8897 37,34.9864L 37,57.9435C 32.7827,57.4651 29.1838,53.9883 27.3335,49.067L 22.4618,51.3387C 21.711,51.6888 20.8186,51.3639 20.4685,50.6131C 20.1184,49.8623 20.4432,48.9699 21.194,48.6198L 26.4838,46.1531C 26.2674,45.1392 26.12,44.0847 26.0489,43L 21.5,43C 20.6716,43 20,42.3285 20,41.5C 20,40.6716 20.6716,40 21.5,40 Z"/>
                        <UI:CheckBox ToolTip="Развёрнутый предпросмотр" Background="LightGray" IsChecked="{Binding ExpandedPreviews}" Width="30" Height="30" Padding="4,7" GlyphData="F1 M 30.25,58L 18,58L 18,45.75L 22,41.75L 22,50.75L 30,42.75L 33.25,46L 25.25,54L 34.25,54L 30.25,58 Z M 58,45.75L 58,58L 45.75,58L 41.75,54L 50.75,54L 42.75,46L 46,42.75L 54,50.75L 54,41.75L 58,45.75 Z M 45.75,18L 58,18L 58,30.25L 54,34.25L 54,25.25L 46,33.25L 42.75,30L 50.75,22L 41.75,22L 45.75,18 Z M 18,30.25L 18,18L 30.25,18L 34.25,22L 25.25,22L 33.25,30L 30,33.25L 22,25.25L 22,34.25L 18,30.25 Z"/>
                        <UI:CheckBox ToolTip="Только с кирилицей" Background="LightGray" IsChecked="{Binding CyrilicOnly}" Width="30" Height="30" Padding="3,6" GlyphData="F1 M 20.5862,38.0051L 20.6015,38.0229C 20.7201,35.6901 21.5254,33.4955 22.8635,31.5595C 20.1783,28.1147 20.2328,23.5812 22.9871,21.4293C 25.7438,19.2756 30.161,20.323 32.8532,23.7689L 33.41,24.5569C 35.3471,24.0359 37.4258,23.7531 39.5889,23.7531C 41.7519,23.7531 43.8306,24.0359 45.7677,24.5569L 46.3245,23.7689C 49.0167,20.323 53.4339,19.2756 56.1906,21.4293C 58.9449,23.5812 58.9994,28.1147 56.3142,31.5595C 57.6523,33.4955 58.4576,35.6901 58.5762,38.0229L 58.5915,38.0051C 58.5915,38.0051 58.5915,42.7558 64.9257,49.09C 60.1751,49.09 58.5915,47.5064 58.5915,47.5064C 58.5915,47.5064 60.1751,49.09 61.7586,52.2571C 60.1751,52.2571 58.5915,50.6735 58.5915,50.6735L 58.5915,52.2571L 55.4244,50.6735L 55.4244,53.8406L 52.2573,50.6735L 52.2573,53.8406L 50.3028,50.909C 47.2526,52.5415 43.5632,53.4964 39.5889,53.4964C 35.6145,53.4964 31.9251,52.5415 28.8749,50.909L 26.9204,53.8406L 26.9204,50.6735L 23.7533,53.8406L 23.7533,50.6735L 20.5862,52.2571L 20.5862,50.6735C 20.5862,50.6735 19.0026,52.2571 17.4191,52.2571C 19.0026,49.09 20.5862,47.5064 20.5862,47.5064C 20.5862,47.5064 19.0026,49.09 14.252,49.09C 20.5862,42.7558 20.5862,38.0051 20.5862,38.0051 Z M 24.9371,23.9253C 23.6724,24.9134 23.7299,27.1409 24.9958,29.0987C 26.4763,27.7112 28.2737,26.5381 30.301,25.6475C 28.6861,23.633 26.2995,22.8609 24.9371,23.9253 Z M 54.2405,23.9253C 52.8782,22.8609 50.4916,23.633 48.8766,25.6475C 50.904,26.5381 52.7014,27.7112 54.1818,29.0987C 55.4478,27.1409 55.5053,24.9134 54.2405,23.9253 Z M 31.6711,33.2545C 29.9219,33.2545 28.504,34.6724 28.504,36.4216C 28.504,38.1707 29.9219,39.5887 31.6711,39.5887C 33.4202,39.5887 34.8382,38.1707 34.8382,36.4216C 34.8382,34.6724 33.4202,33.2545 31.6711,33.2545 Z M 47.5066,33.2545C 45.7575,33.2545 44.3395,34.6724 44.3395,36.4216C 44.3395,38.1707 45.7575,39.5887 47.5066,39.5887C 49.2557,39.5887 50.6737,38.1707 50.6737,36.4216C 50.6737,34.6724 49.2557,33.2545 47.5066,33.2545 Z M 39.5888,44.3393C 39.5888,44.3393 36.4217,44.3393 36.4217,45.1311C 36.4217,48.1921 37.8397,50.6735 39.5888,50.6735C 41.338,50.6735 42.7559,48.1921 42.7559,45.1311C 42.756,44.3393 39.5888,44.3393 39.5888,44.3393 Z M 39.5889,39.5886C 38.7143,39.5886 38.0053,40.2976 38.0053,41.1722C 38.0053,42.0468 38.7143,42.7558 39.5889,42.7558C 40.4634,42.7558 41.1724,42.0468 41.1724,41.1722C 41.1724,40.2976 40.4634,39.5886 39.5889,39.5886 Z"/>
                        <UI:CheckBox ToolTip="Только размеченные" Background="LightGray" IsChecked="{Binding MappedOnly}" Width="30" Height="30" Padding="6" GlyphData="F1 M 34.8333,61.75L 34.8333,42.75L 19,20.5833L 57,20.5833L 41.1667,42.75L 41.1667,58.5833L 34.8333,61.75 Z"/>
                        <UI:CheckBox ToolTip="Только содержащие символы" Background="LightGray" IsChecked="{Binding LiteralOnly}" Width="30" Height="30" Padding="6" GlyphData="F1 M 45.4403,56.9637L 45.4403,55.0463L 52.8201,44.5143L 52.8201,44.4237L 46.13,44.4237L 46.13,41.4774L 57.372,41.4774L 57.372,43.5352L 50.1532,53.9265L 50.1532,54.0174L 57.4869,54.0174L 57.4869,56.9637L 45.4403,56.9637 Z M 34.8333,61.75L 34.8333,42.75L 19,20.5833L 57,20.5833L 41.1667,42.75L 41.1667,58.5833L 34.8333,61.75 Z M 25.903,52.8055L 21.4072,52.8055L 20.289,56.9855L 16.6085,56.9855L 21.4072,41.4556L 26.0661,41.4556L 30.9337,56.9855L 27.1143,56.9855L 25.903,52.8055 Z M 21.9196,50.2801L 25.3905,50.2801L 24.4122,46.9804L 23.9987,45.4806L 23.6201,43.981L 23.5736,43.981L 23.2212,45.4941L 22.8514,47.0194L 21.9196,50.2801 Z"/>
                        <Button ToolTip="Обновить разметку файлов" Width="30" Name="btnUpdate" Height="30" Padding="2" Click="btnUpdate_Click" >
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 38,20.5833C 42.9908,20.5833 47.4912,22.6825 50.6667,26.046L 50.6667,17.4167L 55.4166,22.1667L 55.4167,34.8333L 42.75,34.8333L 38,30.0833L 46.8512,30.0833C 44.6768,27.6539 41.517,26.125 38,26.125C 31.9785,26.125 27.0037,30.6068 26.2296,36.4167L 20.6543,36.4167C 21.4543,27.5397 28.9148,20.5833 38,20.5833 Z M 38,49.875C 44.0215,49.875 48.9963,45.3932 49.7703,39.5833L 55.3457,39.5833C 54.5457,48.4603 47.0852,55.4167 38,55.4167C 33.0092,55.4167 28.5088,53.3175 25.3333,49.954L 25.3333,58.5833L 20.5833,53.8333L 20.5833,41.1667L 33.25,41.1667L 38,45.9167L 29.1487,45.9167C 31.3231,48.3461 34.483,49.875 38,49.875 Z"/>
                        </Button>
                        <Button ToolTip="Настройки" Width="30" Height="30" Padding="2" Click="MenuItem_Click">
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 38,23.5C 38.8643,23.5 39.7109,23.5756 40.5337,23.7206L 42.6275,18.5381L 48.1901,20.787L 46.0964,25.9692C 47.6473,27.0149 48.9851,28.3527 50.0308,29.9036L 55.213,27.8099L 57.4619,33.3725L 52.2794,35.4664C 52.4244,36.2891 52.5,37.1357 52.5,38C 52.5,38.8643 52.4244,39.7109 52.2794,40.5337L 57.4619,42.6275L 55.213,48.1901L 50.0308,46.0964C 49.0795,47.5073 47.8865,48.7418 46.5112,49.7405L 48.7844,54.8462L 43.3041,57.2891L 41.0307,52.1828C 40.0533,52.3906 39.0394,52.5 38,52.5C 37.1357,52.5 36.2891,52.4244 35.4664,52.2794L 33.3725,57.462L 27.8099,55.213L 29.9036,50.0309C 28.3527,48.9851 27.0149,47.6473 25.9691,46.0964L 20.787,48.1901L 18.538,42.6275L 23.7206,40.5336C 23.5756,39.7109 23.5,38.8643 23.5,38C 23.5,37.1357 23.5756,36.2891 23.7206,35.4664L 18.538,33.3725L 20.787,27.8099L 25.9691,29.9036C 26.9205,28.4927 28.1135,27.2582 29.4889,26.2594L 27.2157,21.1537L 32.6959,18.7109L 34.9694,23.8172C 35.9468,23.6094 36.9606,23.5 38,23.5 Z M 38,28C 32.4771,28 28,32.4772 28,38C 28,43.5229 32.4771,48 38,48C 43.5228,48 48,43.5229 48,38C 48,32.4772 43.5228,28 38,28 Z"/>
                        </Button>
                        <Button ToolTip="Добавить папку" Padding="2" Width="30" Height="30" Click="Button_Click_1" >
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 21,30.0001L 55.9999,30.0001L 55.9999,50L 21,50L 21,30.0001 Z M 52,28L 37,28C 38,25 39.4999,24.0001 39.4999,24.0001L 50.75,24C 51.3023,24 52,24.6977 52,25.25L 52,28 Z M 53.5,52C 54.8807,52 56,53.1193 56,54.5C 56,55.8807 54.8807,57 53.5,57C 52.1193,57 51,55.8807 51,54.5C 51,53.1193 52.1193,52 53.5,52 Z M 46.5,52C 47.8807,52 49,53.1193 49,54.5C 49,55.8807 47.8807,57 46.5,57C 45.1193,57 44,55.8807 44,54.5C 44,53.1193 45.1193,52 46.5,52 Z M 39.5,52C 40.8807,52 42,53.1193 42,54.5C 42,55.8807 40.8807,57 39.5,57C 38.1193,57 37,55.8807 37,54.5C 37,53.1193 38.1193,52 39.5,52 Z"/>
                        </Button>
                        <Button ToolTip="Загрузить переводы" Padding="2,2,2,1" Width="30" Height="30" Click="Button_Click_4" >
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 57.72,34L 54.0533,34L 53.0933,31.0133L 47.5967,31.0133L 46.6467,34L 43,34L 48.43,19.0667L 52.4133,19.0667L 57.72,34 Z M 52.1967,28.0267L 50.63,23.0767C 50.5078,22.7011 50.4233,22.2533 50.3767,21.7333L 50.2933,21.7333C 50.2667,22.1711 50.1789,22.6045 50.03,23.0333L 48.4333,28.0267L 52.1967,28.0267 Z M 19.2067,57L 19.2067,42.0667L 24.6667,42.0667C 26.34,42.0667 27.6261,42.3711 28.525,42.98C 29.4239,43.5889 29.8733,44.4467 29.8733,45.5533C 29.8733,46.3556 29.6,47.0572 29.0533,47.6583C 28.5067,48.2595 27.8078,48.6778 26.9567,48.9133L 26.9567,48.9567C 28.0367,49.0878 28.8994,49.4806 29.545,50.135C 30.1905,50.7895 30.5133,51.5867 30.5133,52.5267C 30.5133,53.9 30.02,54.9889 29.0333,55.7933C 28.0467,56.5978 26.6989,57 24.99,57L 19.2067,57 Z M 22.62,44.6267L 22.62,48.04L 24.0633,48.04C 24.7411,48.04 25.2744,47.8778 25.6633,47.5533C 26.0522,47.2289 26.2467,46.7822 26.2467,46.2133C 26.2467,45.1556 25.4478,44.6267 23.85,44.6267L 22.62,44.6267 Z M 22.62,50.6L 22.62,54.44L 24.4233,54.44C 25.1922,54.44 25.795,54.2639 26.2317,53.9117C 26.6683,53.5594 26.8867,53.0789 26.8867,52.47C 26.8867,51.8878 26.6722,51.4306 26.2433,51.0983C 25.8144,50.7661 25.2144,50.6 24.4433,50.6L 22.62,50.6 Z M 32.7629,19.736C 36.5904,18.6385 40.4806,18.7972 43.9928,19.9679L 41.1673,23.3352C 38.8262,22.8274 36.3294,22.8745 33.8654,23.5811C 28.7293,25.0538 24.9904,29.0322 23.5957,33.808L 30.9886,31.6881L 28.2461,36.6357L 18.6335,39.3921L 15.8771,29.7794L 18.6196,24.8318L 20.3662,30.923C 22.4775,25.6729 26.902,21.4166 32.7629,19.736 Z M 43.2371,56.264C 39.4095,57.3615 35.5193,57.2028 32.0071,56.032L 34.8326,52.6648C 37.1737,53.1726 39.6706,53.1255 42.1346,52.4189C 47.2707,50.9462 51.0095,46.9678 52.4043,42.192L 45.0114,44.3119L 47.7539,39.3643L 57.3665,36.6079L 60.1229,46.2206L 57.3804,51.1682L 55.6338,45.0769C 53.5225,50.3271 49.098,54.5834 43.2371,56.264 Z"/>
                        </Button>
                        <Button ToolTip="Сохранить переводы" Padding="3,2,1,0" Width="30" Height="30" Click="Button_Click_5" >
                            <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 48,39L 56,39L 56,49L 63.25,49L 52,60.25L 40.75,49L 48,49L 48,39 Z M 20,20L 50.25,20L 56,25.75L 56,38L 52,38L 52,27.25L 48.75,24L 48,24L 48,37L 28,37L 28,24L 24,24L 24,52L 42.25,52L 46.25,56L 20,56L 20,20 Z M 39,24L 39,34L 44,34L 44,24L 39,24 Z"/>
                        </Button>
                    </StackPanel>
                    <Grid Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Name="pbGrp" Visibility="Collapsed">
                        <ProgressBar Name="pb"/>
                        <TextBlock Margin="4,0" Background="Transparent" VerticalAlignment="Center" ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}" Name="pbLbl" Grid.Row="0"/>
                    </Grid>
                </Grid>
                <TabControl Name="tabs" Grid.Row="1">
                    <TabItem Name="tiFiles" Header="Файлы">
                        <views:FilesView/>
                    </TabItem>
                    <TabItem Name="tiTranslates" Header="Переводы">
                        <views:TranslatesView/>
                        <!--<ListBox Name="lbTranslates" SelectedItem="{Binding SelectedValue}" ItemsSource="{Binding UsedTranslates}" DisplayMemberPath="Value" MouseDoubleClick="ListBox_MouseDoubleClick"/>-->
                    </TabItem>
                    <TabItem Name="tiSearch" Header="Поиск">
                        <views:Search/>
                    </TabItem>
                    <TabItem Name="tiTransConflicts" Visibility="{Binding HasTranslationConflicts, Converter={StaticResource BoolTovis}, ConverterParameter=C}">
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Конфликты" ToolTip="Значения с конфликтующими переводами" HorizontalAlignment="Center"/>
                                <Button HorizontalAlignment="Center" Name="btnIgnorTranslateConflicts" ToolTip="Игнорировать" Width="12" Height="12" Background="Transparent" BorderBrush="Transparent" Click="btnIgnorTranslateConflicts_Click" Margin="5,0,0,0">
                                    <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 38,19C 48.4934,19 57,27.5066 57,38C 57,48.4934 48.4934,57 38,57C 27.5066,57 19,48.4934 19,38C 19,27.5066 27.5066,19 38,19 Z M 38,23.75C 35.2116,23.75 32.6102,24.5509 30.4134,25.9352L 50.0648,45.5866C 51.4491,43.3898 52.25,40.7884 52.25,38C 52.25,30.13 45.87,23.75 38,23.75 Z M 23.75,38C 23.75,45.8701 30.1299,52.25 38,52.25C 40.7884,52.25 43.3897,51.4491 45.5865,50.0649L 25.9351,30.4136C 24.5509,32.6103 23.75,35.2117 23.75,38 Z"/>
                                </Button>
                            </StackPanel>
                        </TabItem.Header>
                        <views:TranslationConflictsView/>
                    </TabItem>
                </TabControl>
            </Grid>
            <GridSplitter Grid.Column="1" VerticalAlignment="Stretch" Width="3" HorizontalAlignment="Center"/>
            <Grid Grid.Column="2" IsEnabled="{Binding EditingEnabled}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" MinHeight="200"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <views:CodeView Grid.Row="0"/>
                <UI:GridExpander Grid.Row="1" Focusable="False" Direction="Next" ResizeDirection="Rows" ResizeBehavior="PreviousAndNext" HorizontalAlignment="Stretch" VerticalAlignment="Top" IsEnabled="{Binding EditorIsEnabled}" IsCollapsed="{Binding EditorIsHidden, Mode=OneWay}"/>
                <views:EditView Grid.Row="2" DataContext="{Binding}"/>
                <!--<Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Expander Grid.Row="1" Header="Редактор" Name="editor" IsExpanded="{Binding EditorIsShown}" IsEnabled="{Binding EditorIsEnabled}">
                        <views:EditView DataContext="{Binding}"/>
                    </Expander>
                    <GridSplitter Grid.Row="1" VerticalAlignment="Top" Height="3" HorizontalAlignment="Stretch" IsEnabled="{Binding IsExpanded, ElementName=editor}" ResizeDirection="Rows" ResizeBehavior="PreviousAndCurrent"/>
                </Grid>-->

                <!--<Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*" MinHeight="200"/>
                </Grid.RowDefinitions>
                <views:CodeView Grid.Row="0" Grid.RowSpan="3"/>
                <GridSplitter VerticalAlignment="Center" Height="3" HorizontalAlignment="Stretch" Grid.Row="1" Visibility="{Binding EditorVisibility}"/>
                <Grid Visibility="{Binding EditorVisibility}" Grid.Row="2" Background="White">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Border Grid.Row="0" BorderThickness="0,0,0,1" BorderBrush="Black">
                        <Grid>
                            <TextBlock Text="Редактор:" Margin="5,0" FontWeight="Bold"/>
                            <Button HorizontalAlignment="Right" Width="15" Height="15" Click="Button_Click_2">
                                <Path Stretch="Uniform" Fill="#FF000000" Data="F1 M 26.9166,22.1667L 37.9999,33.25L 49.0832,22.1668L 53.8332,26.9168L 42.7499,38L 53.8332,49.0834L 49.0833,53.8334L 37.9999,42.75L 26.9166,53.8334L 22.1666,49.0833L 33.25,38L 22.1667,26.9167L 26.9166,22.1667 Z"/>
                            </Button>
                        </Grid>
                    </Border>
                    <views:EditView DataContext="{Binding}" Grid.Row="1"/>
                </Grid>-->
            </Grid>
        </Grid>
    </Grid>
</Window>
